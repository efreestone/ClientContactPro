package com.elijahfreestone.clientcontactpro;

import android.app.Activity;
import android.content.Intent;
import android.net.Uri;

public class IntentManager extends Activity {
	// Create instance of Singleton
	private static IntentManager intentManagerInstance;
	
	// Create getInstance method and check if instance exists
	public static IntentManager getInstance() {
		if (intentManagerInstance == null) {
			intentManagerInstance = new IntentManager();
		}
		return intentManagerInstance;
	}

	public void createReminderIntent(String clientName){
		//Intent reminderIntent = new Intent(Intent.ACTION_SEND, Uri.parse("mailto:"));
		Intent reminderIntent = new Intent(Intent.ACTION_SENDTO, Uri.fromParts("mailto:", "e_freestone@yahoo.com", null));
		reminderIntent.setType("text/plain");
		reminderIntent.putExtra(Intent.EXTRA_EMAIL, "e_freestone@yahoo.com");
		reminderIntent.putExtra(Intent.EXTRA_SUBJECT, "test");
		reminderIntent.putExtra(Intent.EXTRA_TEXT, "This is a sleep test. Client name: " + clientName);
		
		MainActivity.myContext.startActivity(Intent.createChooser(reminderIntent, "Choose an email client")); 
		
//		Intent emailIntent = new Intent(Intent.ACTION_SENDTO, Uri.fromParts(
//	            "mailto","abc@gmail.com", null));
		
	}
	
//	protected void sendEmail() {
//
//		String[] recipients = { recipient.getText().toString() };
//		Intent email = new Intent(Intent.ACTION_SEND, Uri.parse("mailto:"));
//		// prompts email clients only
//		email.setType("message/rfc822");
//
//		email.putExtra(Intent.EXTRA_EMAIL, recipients);
//		email.putExtra(Intent.EXTRA_SUBJECT, subject.getText().toString());
//		email.putExtra(Intent.EXTRA_TEXT, body.getText().toString());
//
//		try {
//			// the user can choose the email client
//			startActivity(Intent.createChooser(email,
//					"Choose an email client from..."));
//
//		} catch (android.content.ActivityNotFoundException ex) {
//			Toast.makeText(MainActivity.this, "No email client installed.",
//					Toast.LENGTH_LONG).show();
//		}
//	}
	

}
